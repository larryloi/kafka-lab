FROM cnfldemos/cp-server-connect-datagen:0.5.3-7.1.0

# Switch to root user to install packages
USER root

# Install Java 17 and Maven using yum
RUN yum update -y && \
    yum install -y java-17-openjdk-devel maven && \
    yum clean all

# Set JAVA_HOME environment variable
ENV JAVA_HOME=/usr/lib/jvm/java-17-openjdk

# Update PATH
ENV PATH="$JAVA_HOME/bin:${PATH}"

# Switch back to the non-root user
USER appuser

